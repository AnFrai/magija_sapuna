document.addEventListener("DOMContentLoaded",()=>{let o=document.getElementById("search-open-button"),r=document.getElementById("search-activation-button"),a=document.getElementById("clear-input-button"),e=document.getElementById("search"),d=document.querySelector(".user-communication__button-wrapper--cart"),n=!1,u=e.value;function c(t){t.classList.toggle("visually-hidden")}e.value=localStorage.getItem("searchValue")||u,o.addEventListener("click",()=>{c(r),c(e),c(d),o.classList.toggle("icon-button--user-communication-search-opened"),o.classList.toggle("user-communication__button--search-opened"),n=!e.classList.contains("visually-hidden"),n&&e.focus(),a.classList.toggle("visually-hidden",e.value.trim()==="")}),document.addEventListener("click",t=>{n&&!e.contains(t.target)&&!o.contains(t.target)&&!a.contains(t.target)&&(r.classList.add("visually-hidden"),a.classList.add("visually-hidden"),e.classList.add("visually-hidden"),o.classList.remove("icon-button--user-communication-search-opened"),o.classList.remove("user-communication__button--search-opened"),d.classList.remove("visually-hidden"),n=!1)}),a.addEventListener("click",t=>{t.stopPropagation(),e.value="",e.focus(),a.classList.add("visually-hidden"),localStorage.setItem("searchValue",u)}),e.addEventListener("input",()=>{n&&a.classList.toggle("visually-hidden",e.value.trim()===""),e.value.trim()!==""?localStorage.setItem("searchValue",e.value):localStorage.removeItem("searchValue")});let l=document.querySelector(".user-communication__menu-button"),m=document.querySelector(".main-nav__list");l.addEventListener("click",()=>{l.classList.toggle("icon-button--header-menu-button-opened"),l.classList.toggle("icon-button--header-menu-button-closed"),m.classList.toggle("main-nav__list--mobile-opened"),m.classList.toggle("main-nav__list--mobile-closed")});let L=document.querySelectorAll(".main-nav__main-list-text--list-down"),g=document.querySelector(".main-nav__sublist"),v=document.querySelector(".main-nav__main-list");L.forEach(t=>{t.addEventListener("click",i=>{i.preventDefault(),g.classList.toggle("main-nav__sublist--closed"),g.classList.toggle("main-nav__sublist--opened"),v.classList.toggle("main-nav__main-list--mobile-closed"),v.classList.toggle("main-nav__main-list--mobile-opened")})});let y=document.querySelector("header"),_=document.querySelector("main"),p=y.offsetHeight;_.style.paddingTop=`${p}px`;let f=document.querySelector(".hero"),b=-.7;window.addEventListener("scroll",()=>{let i=window.scrollY*b;f.style.backgroundPositionY=`${i}px`});let s=document.querySelector(".main-header__category-slider");function h(){let t=s.scrollWidth-s.clientWidth;s.scrollLeft>=t-5?s.style.setProperty("--shadow-end-opacity","0"):s.style.setProperty("--shadow-end-opacity","1"),s.scrollLeft<=5?s.style.setProperty("--shadow-start-opacity","0"):s.style.setProperty("--shadow-start-opacity","1")}h(),s.addEventListener("scroll",h),document.querySelectorAll(".favorite-button").forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("catalog__card-button--favorite-add"),t.classList.toggle("catalog__card-button--favorite-added")})}),document.querySelectorAll(".cart-button").forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("catalog__card-button--add-to-cart"),t.classList.toggle("catalog__card-button--added-to-cart")})})});
