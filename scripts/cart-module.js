var m=(()=>{let a=document.querySelector(".user-communication__button--cart"),c=document.querySelector(".user-communication__button-counter--cart"),s=parseInt(c.textContent,10)||0,o=()=>{s>0?(a.classList.add("icon-button--user-communication-cart-added"),c.classList.remove("visually-hidden"),c.textContent=s,a.title=`Artikala u korpi: ${s}`):(a.classList.remove("icon-button--user-communication-cart-added"),c.classList.add("visually-hidden"),a.title="Nema artikala u korpi")},d=e=>{e.classList.add("catalog__card-button--added-to-cart"),e.classList.remove("catalog__card-button--add-to-cart");let t=e.closest(".catalog__card").querySelector(".catalog__card-message"),n=t.querySelector(".catalog__card-message-text");n.classList.add("catalog__card-message-text--added"),setTimeout(()=>{n.classList.remove("catalog__card-message-text--added")},500),t.classList.contains("catalog__card-message--animate")?(clearTimeout(t.timeoutId),t.timeoutId=setTimeout(()=>{t.classList.remove("catalog__card-message--animate")},4e3)):(t.classList.add("catalog__card-message--animate"),t.timeoutId=setTimeout(()=>{t.classList.remove("catalog__card-message--animate")},4e3));let r=e.querySelector(".catalog__card-button-counter--cart"),l=parseInt(r.textContent,10);r.textContent=l+1,s++,o()},i=()=>{document.querySelectorAll(".cart-button").forEach(t=>t.addEventListener("click",()=>d(t)))};return{init:()=>{i(),o()}}})();export{m as cartModule};
