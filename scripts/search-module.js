var v=(()=>{let n=document.getElementById("search-open-button"),o=document.getElementById("search-activation-button"),a=document.getElementById("clear-input-button"),e=document.getElementById("search"),i=document.querySelector(".user-communication__button-wrapper--cart"),c=!1,l=e.value,s=t=>{t.classList.toggle("visually-hidden")},u=t=>{c&&!e.contains(t.target)&&!n.contains(t.target)&&!a.contains(t.target)&&(s(o),s(e),s(a),s(i),n.classList.remove("icon-button--user-communication-search-opened"),n.classList.remove("user-communication__button--search-opened"),c=!1)},r=()=>{s(o),s(e),s(i),n.classList.toggle("icon-button--user-communication-search-opened"),n.classList.toggle("user-communication__button--search-opened"),c=!e.classList.contains("visually-hidden"),c&&e.focus(),a.classList.toggle("visually-hidden",e.value.trim()==="")},d=t=>{t.stopPropagation(),e.value="",e.focus(),a.classList.add("visually-hidden"),localStorage.setItem("searchValue",l)},m=()=>{!e.classList.contains("visually-hidden")&&(a.classList.toggle("visually-hidden",e.value.trim()===""),e.value.trim()!==""?localStorage.setItem("searchValue",e.value):localStorage.removeItem("searchValue"))},h=()=>{document.addEventListener("click",u),n.addEventListener("click",r),a.addEventListener("click",d),e.addEventListener("input",m)};return{init:()=>{e.value=localStorage.getItem("searchValue")||l,h()}}})();export{v as searchModule};
